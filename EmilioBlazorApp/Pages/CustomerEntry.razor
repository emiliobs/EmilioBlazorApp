@page  "/customerentry"


<h1> ASP.NET Core BLAZOR CRUD demo for Customers</h1>
<hr />
<table width="100%" style="background:#05163D;color:honeydew">
    <tr>
        <td width="20"> </td>
        <td>
            <h2> Add New Customer Details</h2>
        </td>
        <td> </td>
        <td align="right">
            <button class="btn btn-info" >Add New Customer</button>
        </td>
        <td width="10"> </td>
    </tr>
    <tr>
        <td colspan="2"></td>
    </tr>
</table>
<hr />

<table width="100%" style="background:#0A2464;color:honeydew">
    <tr>
        <td width="20"> </td>
        <td>
            <h2>Customer List</h2>
        </td>

    </tr>
    <tr>
        <td colspan="2"></td>
    </tr>
</table>

@if (custs == null)
{
    <p><em>Loading.....</em></p>
}
else
{
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Customer Code</th>
                <th>Customer Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Inseerted By</th>
            </tr>
        </thead>
        <tbody>
              @foreach (var cust in custs)
              {
                  <tr>
                      <td>@cust.CustCd</td>
                      <td>@cust.CustName</td>
                      <td>@cust.Email.</td>
                      <td>@cust.PhoneNo.</td>
                      <td>@cust.InsertBy.</td>
                  </tr>
              }
        </tbody>
    </table>
}


@code {

    private CustomerMaster[] custs;
    CustomerMaster custObj = new CustomerMaster();
    string ids = "0";
    bool showAddrow = false;

    protected override async Task OnInitializedAsync()
    {

        ids = "0";

        custs = await Http.GetJsonAsync<CustomerMaster[]>("/api/CustomerMasters/");
    }
}
